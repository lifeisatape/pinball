/* Reset & Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
}

:root {
    --primary-color: #0F172A;
    --secondary-color: #1E293B;
    --accent-color: #0EA5E9;
    --accent-hover: #0284C7;
    --text-primary: #F8FAFC;
    --text-secondary: #94A3B8;
    --border-color: #334155;
    --success-color: #10B981;
    --warning-color: #F59E0B;
    --error-color: #EF4444;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --border-radius: 8px;
    --border-radius-lg: 12px;
    --transition: all 0.2s ease;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    position: fixed;
    line-height: 1.6;
    font-size: 14px;
}

.game-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Score Panel - Mobile First */
.score-panel {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border-color);
    padding: 12px 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 100;
    flex: 1;
    min-height: 60px;
    overflow: hidden;
}

/* Animated Big Five-Pointed Falling Stars Background for Score Panel */
.score-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpolygon points='20,2 24,14 38,14 28,22 32,34 20,26 8,34 12,22 2,14 16,14' fill='%23ffffff' opacity='0.9'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpolygon points='15,1.5 18,10.5 28.5,10.5 21,16.5 24,25.5 15,19.5 6,25.5 9,16.5 1.5,10.5 12,10.5' fill='%230ea5e9' opacity='0.8'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50'%3E%3Cpolygon points='25,2.5 30,18 48,18 35,28 40,43.5 25,33 10,43.5 15,28 2,18 20,18' fill='%23ffffff' opacity='0.95'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 35 35'%3E%3Cpolygon points='17.5,2 21.5,12.5 33.5,12.5 24.5,20 28.5,30.5 17.5,23 6.5,30.5 10.5,20 1.5,12.5 13.5,12.5' fill='%230ea5e9' opacity='0.7'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 45 45'%3E%3Cpolygon points='22.5,2 27,15 42.5,15 31,24 35.5,37 22.5,28.5 9.5,37 14,24 2.5,15 18,15' fill='%23ffffff' opacity='0.85'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 25'%3E%3Cpolygon points='12.5,1 15,8.5 23.5,8.5 17.5,13.5 20,21 12.5,16 5,21 7.5,13.5 1.5,8.5 10,8.5' fill='%230ea5e9' opacity='0.9'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 60'%3E%3Cpolygon points='30,3 36,21 57,21 42,33 48,51 30,39 12,51 18,33 3,21 24,21' fill='%23ffffff' opacity='0.8'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cpolygon points='16,1.5 19.5,11 30.5,11 22.5,17.5 26,27 16,21 6,27 9.5,17.5 1.5,11 12.5,11' fill='%230ea5e9' opacity='0.75'/%3E%3C/svg%3E");
    background-position:
        15% 0%, 35% 0%, 60% 0%, 80% 0%,
        25% 0%, 70% 0%, 45% 0%, 85% 0%;
    background-size: 
        40px 40px, 30px 30px, 50px 50px, 35px 35px,
        45px 45px, 25px 25px, 60px 60px, 32px 32px;
    background-repeat: repeat-y;
    animation: 
        starsFall1 4s linear infinite,
        starsFall2 5s linear infinite,
        starsFall3 3.5s linear infinite,
        starsFall4 4.5s linear infinite,
        starsFall5 6s linear infinite,
        starsFall6 3.8s linear infinite,
        starsFall7 5.2s linear infinite,
        starsFall8 4.7s linear infinite;
    z-index: -1;
    opacity: 0.8;
}

.score-panel::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 38 38'%3E%3Cpolygon points='19,2 23,13 36,13 26.5,20.5 30.5,31.5 19,25 7.5,31.5 11.5,20.5 2,13 15,13' fill='%230ea5e9' opacity='0.8'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 55 55'%3E%3Cpolygon points='27.5,2.5 33,19 52.5,19 38.5,30 44,46.5 27.5,36 11,46.5 16.5,30 2.5,19 22,19' fill='%23ffffff' opacity='0.9'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 28 28'%3E%3Cpolygon points='14,1.5 17,9.5 26.5,9.5 20,15 23,23 14,18.5 5,23 8,15 1.5,9.5 11,9.5' fill='%230ea5e9' opacity='0.85'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42 42'%3E%3Cpolygon points='21,2 25.5,15.5 40,15.5 29,25 33.5,38.5 21,31 8.5,38.5 13,25 2,15.5 16.5,15.5' fill='%23ffffff' opacity='0.75'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 33 33'%3E%3Cpolygon points='16.5,1.5 20,11 31,11 23,17.5 26.5,27 16.5,21 6.5,27 10,17.5 2,11 13,11' fill='%230ea5e9' opacity='0.9'/%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 65 65'%3E%3Cpolygon points='32.5,3 39,22 62,22 45,35 51.5,54 32.5,42 13.5,54 20,35 3,22 26,22' fill='%23ffffff' opacity='0.8'/%3E%3C/svg%3E");
    background-position:
        10% 0%, 40% 0%, 75% 0%, 90% 0%,
        55% 0%, 20% 0%;
    background-size: 
        38px 38px, 55px 55px, 28px 28px, 42px 42px,
        33px 33px, 65px 65px;
    background-repeat: repeat-y;
    animation: 
        starsFall9 5.5s linear infinite,
        starsFall10 4.2s linear infinite,
        starsFall11 6.8s linear infinite,
        starsFall12 3.7s linear infinite,
        starsFall13 5.9s linear infinite,
        starsFall14 4.8s linear infinite;
    z-index: -1;
    opacity: 0.6;
}

@keyframes starsFall1 {
    0% { transform: translateY(-100px); }
    100% { transform: translateY(calc(100vh + 100px)); }
}

@keyframes starsFall2 {
    0% { transform: translateY(-120px); }
    100% { transform: translateY(calc(100vh + 120px)); }
}

@keyframes starsFall3 {
    0% { transform: translateY(-80px); }
    100% { transform: translateY(calc(100vh + 80px)); }
}

@keyframes starsFall4 {
    0% { transform: translateY(-110px); }
    100% { transform: translateY(calc(100vh + 110px)); }
}

@keyframes starsFall5 {
    0% { transform: translateY(-90px); }
    100% { transform: translateY(calc(100vh + 90px)); }
}

@keyframes starsFall6 {
    0% { transform: translateY(-130px); }
    100% { transform: translateY(calc(100vh + 130px)); }
}

@keyframes starsFall7 {
    0% { transform: translateY(-100px); }
    100% { transform: translateY(calc(100vh + 100px)); }
}

@keyframes starsFall8 {
    0% { transform: translateY(-120px); }
    100% { transform: translateY(calc(100vh + 120px)); }
}

@keyframes starsFall9 {
    0% { transform: translateY(-95px); }
    100% { transform: translateY(calc(100vh + 95px)); }
}

@keyframes starsFall10 {
    0% { transform: translateY(-140px); }
    100% { transform: translateY(calc(100vh + 140px)); }
}

@keyframes starsFall11 {
    0% { transform: translateY(-75px); }
    100% { transform: translateY(calc(100vh + 75px)); }
}

@keyframes starsFall12 {
    0% { transform: translateY(-160px); }
    100% { transform: translateY(calc(100vh + 160px)); }
}

@keyframes starsFall13 {
    0% { transform: translateY(-85px); }
    100% { transform: translateY(calc(100vh + 85px)); }
}

@keyframes starsFall14 {
    0% { transform: translateY(-125px); }
    100% { transform: translateY(calc(100vh + 125px)); }
}

.score-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 60px;
}

.score-item.balls-item {
    position: absolute;
    left: 16px;
    min-width: auto;
}

.score-item.main-score {
    min-width: auto;
}

.score-item.main-score .score-value {
    font-size: 32px;
    font-weight: 800;
    color: var(--accent-color);
    letter-spacing: 1px;
    text-shadow: 0 0 10px rgba(6, 214, 160, 0.5);
}

.score-label {
    font-size: 10px;
    font-weight: 600;
    color: var(--text-secondary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    margin-bottom: 2px;
}

.score-value {
    font-size: 14px;
    font-weight: 700;
    color: var(--accent-color);
    letter-spacing: 0.5px;
}

.restart-btn {
    background: transparent;
    color: var(--text-primary);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 8px 12px;
    font-weight: 600;
    font-size: 11px;
    cursor: pointer;
    transition: var(--transition);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
}

.restart-btn:hover {
    background: var(--accent-color);
    color: var(--primary-color);
    border-color: var(--accent-color);
    transform: translateY(-1px);
}

.restart-btn:active {
    transform: translateY(0);
}

/* Game Canvas */
#gameCanvas {
    background: var(--primary-color);
    border: none;
    touch-action: none;
    display: block;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    width: 100%;
}

/* Game Over Overlay */
.game-over-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.game-over-content {
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    border: 2px solid var(--accent-color);
    box-shadow: 0 0 30px rgba(14, 165, 233, 0.3);
    max-width: 400px;
    width: 90%;
}

.game-over-content h1 {
    color: var(--accent-color);
    font-size: 2.5em;
    margin-bottom: 30px;
    text-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
}

.final-scores {
    margin: 30px 0;
}

.score-line {
    display: flex;
    justify-content: space-between;
    margin: 15px 0;
    font-size: 1.2em;
    color: #ffffff;
}

.score-line span:first-child {
    color: #cccccc;
}

.score-line span:last-child {
    color: var(--accent-color);
    font-weight: bold;
}

.game-over-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 30px;
}

/* Level Select Overlay - Mobile First */
.level-select-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(10px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
}

.level-select-content {
    background: var(--secondary-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    padding: 32px 24px;
    max-width: 500px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    text-align: center;
    box-shadow: var(--shadow-lg);
}

.level-select-content h1 {
    font-size: 32px;
    font-weight: 700;
    color: var(--accent-color);
    margin-bottom: 16px;
    letter-spacing: 2px;
    text-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
    animation: glow 2s ease-in-out infinite alternate;
}

.level-select-content h2 {
    color: var(--text-primary);
    margin-bottom: 8px;
    font-size: 28px;
    font-weight: 700;
    letter-spacing: 1px;
}

.level-select-content p {
    color: var(--text-secondary);
    margin-bottom: 24px;
    font-size: 16px;
    font-weight: 500;
}

.level-list {
    margin-bottom: 24px;
    max-height: 400px;
    overflow-y: auto;
}

.level-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 16px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: var(--transition);
    text-align: left;
}

.level-item:hover {
    background: rgba(6, 214, 160, 0.1);
    border-color: var(--accent-color);
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.level-item.selected {
    background: rgba(6, 214, 160, 0.15);
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(6, 214, 160, 0.2);
}

.level-name {
    color: var(--text-primary);
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 4px;
    letter-spacing: 0.5px;
}

.level-description {
    color: var(--text-secondary);
    font-size: 14px;
    font-weight: 500;
}

.level-select-controls {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
}

.level-btn {
    padding: 12px 24px;
    border: 1px solid var(--border-color);
    background: transparent;
    color: var(--text-primary);
    font-size: 14px;
    font-weight: 600;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    min-width: 120px;
}

.level-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--accent-color);
    transform: translateY(-1px);
}

.level-btn.primary {
    background: var(--accent-color);
    color: var(--primary-color);
    border-color: var(--accent-color);
}

.level-btn.primary:hover {
    background: var(--accent-hover);
    border-color: var(--accent-hover);
}

.level-btn:active {
    transform: translateY(0);
}

/* Scrollbar Styling */
.level-list::-webkit-scrollbar,
.level-select-content::-webkit-scrollbar {
    width: 6px;
}

.level-list::-webkit-scrollbar-track,
.level-select-content::-webkit-scrollbar-track {
    background: var(--primary-color);
    border-radius: 3px;
}

.level-list::-webkit-scrollbar-thumb,
.level-select-content::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 3px;
}

.level-list::-webkit-scrollbar-thumb:hover,
.level-select-content::-webkit-scrollbar-thumb:hover {
    background: var(--accent-color);
}

/* Mobile Responsive Design */
@media (max-width: 480px) {
    .score-panel {
        padding: 8px 12px;
        min-height: 50px;
    }

    .score-item.balls-item {
        left: 12px;
    }

    .score-item.main-score .score-value {
        font-size: 24px;
    }

    .score-label {
        font-size: 9px;
    }

    .score-value {
        font-size: 12px;
    }

    .restart-btn {
        padding: 6px 10px;
        font-size: 10px;
    }

    .level-select-content {
        padding: 24px 16px;
    }

    .level-select-content h1 {
        font-size: 24px;
        margin-bottom: 12px;
    }

    .level-select-content h2 {
        font-size: 20px;
    }

    .level-item {
        padding: 12px;
    }

    .level-name {
        font-size: 16px;
    }

    .level-description {
        font-size: 13px;
    }

    .level-btn {
        padding: 10px 18px;
        font-size: 12px;
        min-width: 100px;
    }

    .game-over-content {
        padding: 24px 16px;
    }

    .game-over-content h2 {
        font-size: 20px;
    }

    .loading-content h1 {
        font-size: 32px;
        margin-bottom: 30px;
    }

    .loading-text {
        font-size: 16px;
    }

    .loading-percentage {
        font-size: 20px;
    }

    .loading-details {
        margin-top: 20px;
        padding: 15px;
    }

    .loading-item-name {
        font-size: 14px;
    }
}

/* Tablet Responsive Design */
@media (min-width: 481px) and (max-width: 768px) {
    .score-panel {
        padding: 10px 16px;
        min-height: 55px;
    }

    .score-item.main-score .score-value {
        font-size: 36px;
    }

    .score-value {
        font-size: 15px;
    }

    .level-select-content {
        padding: 28px 20px;
    }

    .level-select-content h1 {
        font-size: 28px;
    }

    .level-select-content h2 {
        font-size: 24px;
    }
}

/* Desktop Responsive Design */
@media (min-width: 769px) {
    .score-panel {
        padding: 12px 20px;
        min-height: 65px;
    }

    .score-item.balls-item {
        left: 20px;
    }

    .score-item.main-score .score-value {
        font-size: 42px;
    }

    .score-label {
        font-size: 11px;
    }

    .score-value {
        font-size: 18px;
    }

    .restart-btn {
        padding: 10px 16px;
        font-size: 12px;
    }

    .level-select-content {
        padding: 40px 32px;
    }

    .level-select-content h1 {
        font-size: 36px;
    }

    .level-select-content h2 {
        font-size: 28px;
    }

    .level-item {
        padding: 20px;
    }

    .level-name {
        font-size: 20px;
    }

    .level-description {
        font-size: 15px;
    }

    .level-btn {
        padding: 14px 28px;
        font-size: 15px;
        min-width: 140px;
    }

    .game-over-content {
        padding: 40px 32px;
    }

    .game-over-content h2 {
        font-size: 28px;
    }

    .loading-content h1 {
        font-size: 56px;
    }

    .loading-text {
        font-size: 20px;
    }

    .loading-percentage {
        font-size: 28px;
    }

    .loading-item-name {
        font-size: 18px;
    }
}

/* Large Desktop */
@media (min-width: 1200px) {
    .score-panel {
        padding: 16px 24px;
        min-height: 70px;
    }

    .score-item.balls-item {
        left: 24px;
    }

    .score-item.main-score .score-value {
        font-size: 48px;
    }

    .score-value {
        font-size: 20px;
    }

    .restart-btn {
        padding: 12px 20px;
        font-size: 13px;
    }

    .level-select-content h1 {
        font-size: 40px;
    }

    .level-select-content h2 {
        font-size: 32px;
    }

    .level-btn {
        padding: 16px 32px;
        font-size: 16px;
        min-width: 160px;
    }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
    .score-panel {
        padding: 6px 12px;
        min-height: 40px;
    }

    .score-item.balls-item {
        left: 12px;
    }

    .score-item.main-score .score-value {
        font-size: 20px;
    }

    .score-value {
        font-size: 14px;
    }

    .restart-btn {
        padding: 4px 8px;
        font-size: 10px;
    }

    .level-select-content {
        padding: 20px 16px;
        max-height: 85vh;
    }

    .level-select-content h1 {
        font-size: 18px;
        margin-bottom: 8px;
    }

    .level-select-content h2 {
        font-size: 16px;
        margin-bottom: 6px;
    }

    .level-item {
        padding: 8px 12px;
    }

    .level-name {
        font-size: 14px;
    }

    .level-description {
        font-size: 12px;
    }
}

/* High DPI screens */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx) {
    #gameCanvas {
        image-rendering: auto;
    }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus states for accessibility */
.restart-btn:focus,
.level-btn:focus,
.level-item:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* Loading state */
.loading {
    pointer-events: none;
    opacity: 0.6;
}

/* Tap to Start Screen */
.tap-to-start-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    animation: fadeIn 0.5s ease-in-out;
}

.tap-to-start-content {
    text-align: center;
    padding: 40px;
    animation: slideUp 0.8s ease-out;
}

.tap-to-start-content h1 {
    font-size: 48px;
    font-weight: 700;
    color: var(--accent-color);
    margin-bottom: 30px;
    letter-spacing: 3px;
    text-shadow: 0 0 30px rgba(14, 165, 233, 0.6);
    animation: glow 2s ease-in-out infinite alternate;
}

.tap-instruction {
    font-size: 24px;
    color: var(--text-secondary);
    font-weight: 500;
    letter-spacing: 1px;
    animation: pulse 2s ease-in-out infinite;
    cursor: pointer;
    user-select: none;
}

.tap-instruction:hover {
    color: var(--accent-color);
    transform: scale(1.05);
    transition: var(--transition);
}

/* Loading Screen */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1500;
}

.loading-content {
    text-align: center;
    padding: 40px;
    max-width: 500px;
    width: 90%;
}

.loading-content h1 {
    font-size: 48px;
    font-weight: 700;
    color: var(--accent-color);
    margin-bottom: 40px;
    letter-spacing: 3px;
    text-shadow: 0 0 30px rgba(14, 165, 233, 0.6);
    animation: glow 2s ease-in-out infinite alternate;
}

.loading-bar-container {
    margin: 30px 0;
    position: relative;
}

.loading-bar {
    width: 100%;
    height: 8px;
    background: var(--border-color);
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.loading-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
    width: 0%;
    transition: width 0.3s ease;
    border-radius: 4px;
}

.loading-percentage {
    font-size: 24px;
    color: var(--accent-color);
    font-weight: 700;
    margin-top: 15px;
    letter-spacing: 1px;
}

.loading-details {
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--border-radius);
    padding: 20px;
    margin-top: 30px;
    border: 1px solid var(--border-color);
}

.loading-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 10px 0;
    padding: 8px 0;
}

.loading-item-name {
    color: var(--text-primary);
    font-weight: 600;
    font-size: 16px;
    letter-spacing: 0.5px;
}

.loading-item-status {
    font-size: 20px;
}

/* Animations */
@keyframes glow {
    from {
        text-shadow: 0 0 20px rgba(14, 165, 233, 0.4);
    }
    to {
        text-shadow: 0 0 30px rgba(14, 165, 233, 0.8), 0 0 40px rgba(14, 165, 233, 0.6);
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 0.7;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.02);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Mobile responsive for tap-to-start */
@media (max-width: 480px) {
    .tap-to-start-content h1 {
        font-size: 32px;
        margin-bottom: 20px;
    }

    .tap-instruction {
        font-size: 18px;
    }

    .loading-content h1 {
        font-size: 32px;
        margin-bottom: 30px;
    }

    .loading-percentage {
        font-size: 20px;
    }

    .loading-item-name {
        font-size: 14px;
    }
}

@media (min-width: 769px) {
    .tap-to-start-content h1 {
        font-size: 56px;
    }

    .tap-instruction {
        font-size: 28px;
    }
}

/* Game UI Elements */
.game-ui {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    z-index: 50;
}

.flipper-zones {
    display: flex;
    height: 100px;
    pointer-events: auto;
}

.flipper-zone {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.1);
    cursor: pointer;
    user-select: none;
    transition: background-color 0.1s ease;
}

.flipper-zone:active {
    background: rgba(6, 214, 160, 0.2);
}

.flipper-hint {
    font-size: 24px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.3);
    pointer-events: none;
}

/* Game Over Overlay Updates */
.game-over-content h1 {
    color: var(--accent-color);
    font-size: 2.5em;
    margin-bottom: 30px;
    text-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
    animation: glow 2s ease-in-out infinite alternate;
}

.final-stats {
    margin: 30px 0;
}

.stat {
    display: flex;
    justify-content: space-between;
    margin: 15px 0;
    font-size: 1.2em;
    color: var(--text-primary);
}

.stat-label {
    color: var(--text-secondary);
}

.stat-value {
    color: var(--accent-color);
    font-weight: bold;
}

.game-over-controls {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 30px;
}

.game-over-controls .restart-btn,
.game-over-controls .menu-btn,
.game-over-controls .farcaster-btn {
    padding: 12px 24px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: var(--transition);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: var(--border-radius);
    width: 100%;
    box-sizing: border-box;
    text-align: center;
}

.menu-btn {
    background: transparent;
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.menu-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--accent-color);
    transform: translateY(-1px);
}

/* Utility classes */
.hidden {
    display: none !important;
}

.visible {
    display: block !important;
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}
.wall-mode-buttons {
    display: flex;
    gap: 5px;
}

.wall-mode-btn {
    padding: 5px 10px;
    border: 1px solid #444;
    background: #333;
    color: white;
    cursor: pointer;
    font-size: 12px;
}

.wall-mode-btn.active {
    background: #555;
    border-color: #666;
}

.shape-buttons {
    display: flex;
    gap: 5px;
}

.shape-btn {
    padding: 5px 10px;
    border: 1px solid #444;
    background: #333;
    color: white;
    cursor: pointer;
    font-size: 12px;
}

.shape-btn.active {
    background: #555;


/* Farcaster кнопка */
.farcaster-btn {
    background: linear-gradient(135deg, #7C3AED, #5B21B6) !important;
    border: 1px solid #7C3AED !important;
    color: white !important;
}

.farcaster-btn:hover {
    background: linear-gradient(135deg, #5B21B6, #4C1D95) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4) !important;
}

#farcasterUserInfo {
    margin: 15px 0;
    text-align: center;
    color: #0EA5E9;
    font-size: 14px;
    background: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 8px;
}

#farcasterUserInfo img {
    display: block;
    margin: 0 auto 10px;
    border-radius: 50%;
    border: 2px solid var(--accent-color);
}

    border-color: #666;
}

/* Replaced all instances of green color references in text-shadow properties with blue color references. */