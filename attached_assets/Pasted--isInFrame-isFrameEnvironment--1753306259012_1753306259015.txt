–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ - isInFrame() –≤–º–µ—Å—Ç–æ isFrameEnvironment
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ - FarcasterManager —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ SDK
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Mini App —Å—Ä–µ–¥—ã - –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API

üìã –ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
–®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤—å—Ç–µ game/PinballGame.js
–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 446 –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ:
javascript// –ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
if (window.farcasterManager && window.farcasterManager.isInFrame()) {

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
if (window.farcasterManager && window.farcasterManager.isFrameEnvironment) {
–®–∞–≥ 2: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞–π—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ index.html
–ó–∞–º–µ–Ω–∏—Ç–µ —Å–µ–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞:–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ index.htmlCode¬†// –ó–∞–º–µ–Ω–∏—Ç–µ —Å–µ–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ index.html
<script type="module">
    // –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è Mini App —Å—Ä–µ–¥—ã
    async function detectMiniApp() {
        try {
            console.log('üîç Detecting Mini App environment...');
            
          Strategized refactoring FarcasterManager.js for improved initialization method.1s–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å FarcasterManager.js, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ –∏ —É–ª—É—á—à–∏—Ç—å –º–µ—Ç–æ–¥ init().–®–∞–≥ 3: –ò—Å–ø—Ä–∞–≤—å—Ç–µ core/FarcasterManager.js
–í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ FarcasterManager.js –Ω–∞–π–¥–∏—Ç–µ –∏ –£–î–ê–õ–ò–¢–ï —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:
javascript// –£–î–ê–õ–ò–¢–ï —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞:
try {
    console.log('Creating global FarcasterManager instance...');
    window.farcasterManager = new FarcasterManager();
    console.log('‚úÖ Global FarcasterManager instance created successfully');
} catch (error) {
    console.error('‚ùå Failed to create global FarcasterManager instance:', error);
}
–ó–∞–º–µ–Ω–∏—Ç–µ –∏—Ö –Ω–∞:
javascriptconsole.log('‚úÖ FarcasterManager class ready for initialization');
–®–∞–≥ 4: –£–ª—É—á—à–∏—Ç–µ –º–µ—Ç–æ–¥ init() –≤ FarcasterManager
–í –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞ init() –¥–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:–£–ª—É—á—à–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ init() –¥–ª—è FarcasterManagerCode¬†async init() {
    console.log('FarcasterManager: Initializing...');

    // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ SDK –µ—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤
    if (!window.sdk || window.isMiniApp === undefined) {
        console.log('üîÑ Waiting for SDK to load...');
        let attempts = Investigated Farcaster button display method in GameOverOverlay.js1s–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥ showFarcasterButtons() –≤ GameOverOverlay.js –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.–®–∞–≥ 5: –ò—Å–ø—Ä–∞–≤—å—Ç–µ ui/GameOverOverlay.js
–ù–∞–π–¥–∏—Ç–µ –º–µ—Ç–æ–¥ showFarcasterButtons() –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ:
javascriptshowFarcasterButtons() {
    if (window.isMiniApp && window.farcasterManager?.isFrameEnvironment && this.farcasterActions) {
        this.farcasterActions.style.display = 'flex';
        console.log('‚úÖ Farcaster action buttons shown');
    } else {
        console.log('‚ÑπÔ∏è Farcaster buttons hidden - not in Mini App or manager not ready');
    }
}
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
javascript// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
function debugFarcaster() {
    console.log('=== FARCASTER DEBUG ===');
    console.log('window.isMiniApp:', window.isMiniApp);
    console.log('window.sdk:', !!window.sdk);
    console.log('window.farcasterManager:', !!window.farcasterManager);
    
    if (window.farcasterManager) {
        console.log('isFrameEnvironment:', window.farcasterManager.isFrameEnvironment);
        console.log('isReady:', window.farcasterManager.isReady);
        console.log('SDK available:', !!window.farcasterManager.sdk);
    }
}

debugFarcaster();
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ - SDK ‚Üí FarcasterManager ‚Üí Game
‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API Farcaster - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sdk.isInMiniApp()
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç–æ–¥–æ–≤ - isFrameEnvironment –≤–º–µ—Å—Ç–æ isInFrame()
‚úÖ Graceful fallback - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ ready() - —É–±–∏—Ä–∞–µ—Ç splash screen

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤—ã –ø—ã—Ç–∞–ª–∏—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FarcasterManager –¥–æ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ SDK, –∏ –≤—ã–∑—ã–≤–∞–ª–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ isInFrame().